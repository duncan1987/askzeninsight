<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Favicon Generator</title>
  <style>
    body {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
      margin: 0;
      padding: 20px;
      font-family: system-ui, -apple-system, sans-serif;
      background: #f0f0f0;
    }
    .container {
      background: white;
      padding: 40px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      max-width: 900px;
    }
    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 10px;
    }
    p {
      text-align: center;
      color: #666;
      margin-bottom: 30px;
    }
    .favicon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      margin-bottom: 20px;
    }
    .favicon-item {
      text-align: center;
    }
    .favicon-preview {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 12px;
      border: 2px solid #e0e0e0;
      margin-bottom: 15px;
    }
    .favicon-preview img {
      width: 100%;
      height: auto;
      max-width: 180px;
    }
    button {
      background: linear-gradient(135deg, #8b5cf6, #ec4899);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      margin: 5px;
    }
    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
    }
    button:active {
      transform: translateY(0);
    }
    .filename {
      font-family: 'Courier New', monospace;
      background: #f0f0f0;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 13px;
      margin-top: 10px;
      display: block;
    }
    .instructions {
      background: #f8f9fa;
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
    }
    .instructions h3 {
      margin-top: 0;
      color: #333;
    }
    .instructions ol {
      margin: 10px 0;
      padding-left: 20px;
    }
    .instructions li {
      margin-bottom: 8px;
      color: #555;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>‚ú® Favicon Generator</h1>
    <p>Click the download buttons below to save each icon</p>

    <div class="favicon-grid">
      <!-- 32x32 Light Mode -->
      <div class="favicon-item">
        <div class="favicon-preview">
          <img id="preview-light" src="" alt="Light mode icon">
        </div>
        <button onclick="downloadIcon('light')">‚¨áÔ∏è Download PNG</button>
        <span class="filename">icon-light-32x32.png</span>
      </div>

      <!-- 32x32 Dark Mode -->
      <div class="favicon-item">
        <div class="favicon-preview">
          <img id="preview-dark" src="" alt="Dark mode icon">
        </div>
        <button onclick="downloadIcon('dark')">‚¨áÔ∏è Download PNG</button>
        <span class="filename">icon-dark-32x32.png</span>
      </div>

      <!-- 180x180 Apple Icon -->
      <div class="favicon-item">
        <div class="favicon-preview">
          <img id="preview-apple" src="" alt="Apple icon">
        </div>
        <button onclick="downloadIcon('apple')">‚¨áÔ∏è Download PNG</button>
        <span class="filename">apple-icon.png</span>
      </div>
    </div>

    <div style="text-align: center; margin-top: 20px;">
      <button onclick="downloadAll()" style="font-size: 16px; padding: 15px 30px;">
        üì¶ Download All (3 files)
      </button>
    </div>

    <div class="instructions">
      <h3>üìã Instructions</h3>
      <ol>
        <li>Click the download buttons above to save each PNG file</li>
        <li>Save all 3 files to your project's <code>public/</code> directory</li>
        <li>Refresh your browser (Ctrl+Shift+R) to see the new favicon</li>
      </ol>
      <p><strong>Note:</strong> The files will be downloaded to your browser's default download location. Move them to the <code>public/</code> folder afterwards.</p>
    </div>
  </div>

  <script>
    // SVG templates
    const svgLight = `<svg width="180" height="180" viewBox="0 0 180 180" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="sparkle-gradient-light" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#ec4899;stop-opacity:1" />
        </linearGradient>
      </defs>
      <rect width="180" height="180" rx="40" fill="#f8fafc" />
      <g fill="url(#sparkle-gradient-light)" transform="translate(90, 90)">
        <path d="M0 -55 C5 -35 10 -25 25 -15 L25 -15 C10 -5 5 5 0 25 C-5 5 -10 -5 -25 -15 L-25 -15 C-10 -25 -5 -35 0 -55 Z" />
        <circle cx="0" cy="-45" r="5" />
        <circle cx="0" cy="45" r="5" />
        <circle cx="-45" cy="0" r="5" />
        <circle cx="45" cy="0" r="5" />
        <circle cx="-32" cy="-32" r="3.5" />
        <circle cx="32" cy="-32" r="3.5" />
        <circle cx="-32" cy="32" r="3.5" />
        <circle cx="32" cy="32" r="3.5" />
        <circle cx="-15" cy="-50" r="2.5" />
        <circle cx="15" cy="-50" r="2.5" />
        <circle cx="-50" cy="-15" r="2.5" />
        <circle cx="50" cy="-15" r="2.5" />
        <circle cx="-15" cy="50" r="2.5" />
        <circle cx="15" cy="50" r="2.5" />
        <circle cx="-50" cy="15" r="2.5" />
        <circle cx="50" cy="15" r="2.5" />
      </g>
    </svg>`;

    const svgDark = `<svg width="180" height="180" viewBox="0 0 180 180" fill="none" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="sparkle-gradient-dark" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" style="stop-color:#a78bfa;stop-opacity:1" />
          <stop offset="100%" style="stop-color:#f472b6;stop-opacity:1" />
        </linearGradient>
      </defs>
      <rect width="180" height="180" rx="40" fill="#1e293b" />
      <g fill="url(#sparkle-gradient-dark)" transform="translate(90, 90)">
        <path d="M0 -55 C5 -35 10 -25 25 -15 L25 -15 C10 -5 5 5 0 25 C-5 5 -10 -5 -25 -15 L-25 -15 C-10 -25 -5 -35 0 -55 Z" />
        <circle cx="0" cy="-45" r="5" />
        <circle cx="0" cy="45" r="5" />
        <circle cx="-45" cy="0" r="5" />
        <circle cx="45" cy="0" r="5" />
        <circle cx="-32" cy="-32" r="3.5" />
        <circle cx="32" cy="-32" r="3.5" />
        <circle cx="-32" cy="32" r="3.5" />
        <circle cx="32" cy="32" r="3.5" />
        <circle cx="-15" cy="-50" r="2.5" />
        <circle cx="15" cy="-50" r="2.5" />
        <circle cx="-50" cy="-15" r="2.5" />
        <circle cx="50" cy="-15" r="2.5" />
        <circle cx="-15" cy="50" r="2.5" />
        <circle cx="15" cy="50" r="2.5" />
        <circle cx="-50" cy="15" r="2.5" />
        <circle cx="50" cy="15" r="2.5" />
      </g>
    </svg>`;

    const svgApple = svgLight; // Same as light mode

    // Convert SVG to PNG using Canvas
    function svgToPng(svg, size) {
      return new Promise((resolve, reject) => {
        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        const ctx = canvas.getContext('2d');

        const img = new Image();
        const svgBlob = new Blob([svg], { type: 'image/svg+xml;charset=utf-8' });
        const url = URL.createObjectURL(svgBlob);

        img.onload = function() {
          ctx.drawImage(img, 0, 0, size, size);
          URL.revokeObjectURL(url);

          canvas.toBlob((blob) => {
            if (blob) {
              resolve(blob);
            } else {
              reject(new Error('Failed to create PNG'));
            }
          }, 'image/png');
        };

        img.onerror = function() {
          URL.revokeObjectURL(url);
          reject(new Error('Failed to load SVG'));
        };

        img.src = url;
      });
    }

    // Download function
    async function downloadIcon(type) {
      let svg, filename, size;

      switch(type) {
        case 'light':
          svg = svgLight;
          filename = 'icon-light-32x32.png';
          size = 32;
          break;
        case 'dark':
          svg = svgDark;
          filename = 'icon-dark-32x32.png';
          size = 32;
          break;
        case 'apple':
          svg = svgApple;
          filename = 'apple-icon.png';
          size = 180;
          break;
      }

      try {
        const png = await svgToPng(svg, size);
        const url = URL.createObjectURL(png);
        const a = document.createElement('a');
        a.href = url;
        a.download = filename;
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
      } catch (error) {
        console.error('Error converting SVG to PNG:', error);
        alert('Failed to generate PNG. Please try using a modern browser (Chrome, Firefox, Edge).');
      }
    }

    // Download all
    async function downloadAll() {
      await downloadIcon('light');
      await new Promise(r => setTimeout(r, 500));
      await downloadIcon('dark');
      await new Promise(r => setTimeout(r, 500));
      await downloadIcon('apple');
    }

    // Initialize previews
    function initPreviews() {
      const svgToDataURL = (svg) => {
        const blob = new Blob([svg], { type: 'image/svg+xml;charset=utf-8' });
        return URL.createObjectURL(blob);
      };

      document.getElementById('preview-light').src = svgToDataURL(svgLight);
      document.getElementById('preview-dark').src = svgToDataURL(svgDark);
      document.getElementById('preview-apple').src = svgToDataURL(svgApple);
    }

    // Initialize on load
    window.onload = initPreviews;
  </script>
</body>
</html>
